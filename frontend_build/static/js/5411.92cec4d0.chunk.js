"use strict";(self.webpackChunkvishwatel=self.webpackChunkvishwatel||[]).push([[5411],{75411:(a,e,s)=>{s.r(e),s.d(e,{default:()=>h});var l=s(72791),n=s(11087),i=s(81724),d=s(36277),t=s(41008),r=s(73520),c=s(70509),o=s(72826),m=s(80184);const h=function(){const{loginInfo:a,updateLoginInfo:e}=(0,c.t)(),[s,h]=(0,l.useState)(!1),[u,v]=(0,l.useState)(!1),[N,x]=(0,l.useState)({});(0,l.useEffect)((()=>{p()}),[]);const p=async()=>{v(!0);try{const{data:e}=await(0,o.EC)({},a.token);v(!1),200===(null===e||void 0===e?void 0:e.statusCode)?(x(e.userData),(0,t.iM)({type:"success",message:e.message})):(0,t.iM)({type:"error",message:e.message})}catch(e){v(!1),(0,t.iM)({type:"error",message:e})}},j=()=>{h(!0)},[f,g]=(0,l.useState)(!1),b=()=>{g(!f)};return f?document.querySelector("body").classList.add("toggle-shown"):document.querySelector("body").classList.remove("toggle-shown"),console.log("userData",N),(0,m.jsxs)(m.Fragment,{children:[(0,m.jsx)(r.MetaTags,{title:""}),(0,m.jsx)("div",{className:"nk-block",children:(0,m.jsx)("div",{className:"card",children:(0,m.jsxs)("div",{className:"card-aside-wrap",children:[(0,m.jsxs)("div",{className:"card-inner card-inner-lg",children:[(0,m.jsx)("div",{className:"nk-block-head nk-block-head-lg",children:(0,m.jsxs)("div",{className:"nk-block-between",children:[(0,m.jsx)(r.PageHeader,{heading:"Personal Information",children:(0,m.jsx)("p",{children:"Basic info, like your name and address, that you use on Nio Platform."})}),(0,m.jsx)("div",{className:"nk-block-head-content align-self-start d-lg-none",children:(0,m.jsx)(n.rU,{to:"#",onClick:()=>b(),className:"toggle btn btn-icon btn-trigger mt-n1 ".concat(f?"active":""),children:(0,m.jsx)("em",{className:"icon ni ni-menu-alt-r"})})})]})}),(0,m.jsx)("div",{className:"nk-block",children:(0,m.jsxs)("div",{className:"nk-data data-list",children:[(0,m.jsx)("div",{className:"data-head",children:(0,m.jsx)("h6",{className:"overline-title",children:"Basics"})}),(0,m.jsxs)("div",{className:"data-item",onClick:()=>j(),children:[(0,m.jsxs)("div",{className:"data-col",children:[(0,m.jsx)("span",{className:"data-label",children:"Full Name"}),(0,m.jsxs)("span",{className:"data-value",children:[null===N||void 0===N?void 0:N.first_name," ",null===N||void 0===N?void 0:N.middle_name,null===N||void 0===N?void 0:N.last_name]})]}),(0,m.jsx)("div",{className:"data-col data-col-end",children:(0,m.jsx)("span",{className:"data-more",children:(0,m.jsx)("em",{className:"icon ni ni-forward-ios"})})})]}),(0,m.jsxs)("div",{className:"data-item",onClick:()=>j(),children:[(0,m.jsxs)("div",{className:"data-col",children:[(0,m.jsx)("span",{className:"data-label",children:"Display Name"}),(0,m.jsx)("span",{className:"data-value",children:null===N||void 0===N?void 0:N.displayName})]}),(0,m.jsx)("div",{className:"data-col data-col-end",children:(0,m.jsx)("span",{className:"data-more",children:(0,m.jsx)("em",{className:"icon ni ni-forward-ios"})})})]}),(0,m.jsxs)("div",{className:"data-item",children:[(0,m.jsxs)("div",{className:"data-col",children:[(0,m.jsx)("span",{className:"data-label",children:"Email"}),(0,m.jsx)("span",{className:"data-value",children:null===N||void 0===N?void 0:N.email})]}),(0,m.jsx)("div",{className:"data-col data-col-end",children:(0,m.jsx)("span",{className:"data-more disable",children:(0,m.jsx)("em",{className:"icon ni ni-lock-alt"})})})]})]})})]}),(0,m.jsx)(r.AcountSidebar,{asideView:f,asideToggle:b})]})})}),(0,m.jsx)(r.ModalComponent,{closeButton:!1,extraTitleClassName:"justify-content-center",onHandleCancel:()=>{h(!1)},backdrop:!0,show:s,title:"Update Profile",children:(0,m.jsx)(d.J9,{enableReinitialize:!0,initialValues:{firstName:null===N||void 0===N?void 0:N.first_name,middleName:null===N||void 0===N?void 0:N.middle_name,lastName:null===N||void 0===N?void 0:N.last_name,displayName:null===N||void 0===N?void 0:N.dislay_name,email:null===N||void 0===N?void 0:N.email},validationSchema:i.Ry().shape({firstName:i.Z_().required("Please enter first name."),lastName:i.Z_().required("Please enter last name.")}),onSubmit:e=>{(async e=>{v(!0);const s={currentpassword:e.password,newpassword:e.current_password};try{const{data:e}=await(0,o.ck)(s,a.token);v(!1),200===(null===e||void 0===e?void 0:e.statusCode)?(0,t.iM)({type:"success",message:e.message}):(0,t.iM)({type:"error",message:e.message})}catch(l){v(!1),(0,t.iM)({type:"error",message:l})}})(e)},children:a=>{let{errors:e,handleBlur:s,handleChange:l,handleSubmit:i,touched:d,values:t}=a;return(0,m.jsxs)("form",{className:"w-100",onSubmit:i,children:[(0,m.jsxs)("div",{className:"form-group",children:[(0,m.jsx)("label",{className:"form-label",htmlFor:"full-name",children:"Full Name"}),(0,m.jsxs)("div",{style:{display:"flex"},children:[(0,m.jsx)(r.Input,{id:"full-name",className:"form-control form-control-lg",name:"firstName",variant:"standard",onChange:l,value:t.firstName,type:"text",placeholder:"Enter first name",icon:""}),(0,m.jsx)(r.Input,{id:"full-name",className:"form-control form-control-lg",name:"middleName",disabled:!1,variant:"standard",type:"text",placeholder:"Enter middle name",onChange:l,value:t.middleName,icon:""}),(0,m.jsx)(r.Input,{id:"full-name",className:"form-control form-control-lg",name:"lastName",disabled:!1,variant:"standard",type:"text",placeholder:"Enter last name",onChange:l,value:t.lastName,icon:""})]})]}),(0,m.jsxs)("div",{className:"form-group",children:[(0,m.jsx)("label",{className:"form-label",htmlFor:"display-name",children:"Display Name"}),(0,m.jsx)(r.Input,{id:"display-name",className:"form-control form-control-lg",name:"displayName",disabled:!1,variant:"standard",type:"text",placeholder:"Enter display name",onChange:l,value:t.displayName,icon:""})]}),(0,m.jsxs)("div",{className:"form-group",children:[(0,m.jsx)("label",{className:"form-label",htmlFor:"email",children:"Email"}),(0,m.jsx)(r.Input,{id:"email",className:"form-control form-control-lg",name:"email",disabled:!0,variant:"standard",type:"email",placeholder:"Enter email",onChange:l,value:t.email,icon:""})]}),(0,m.jsxs)("div",{className:"mt-4 align-center justify-content-center flex-wrap flex-sm-nowrap gx-1 gy-2",children:[(0,m.jsx)("div",{children:(0,m.jsx)(r.CommonButton,{extraClassName:"btn btn-lg btn-primary btn-block",htmlType:"button",type:"submit",children:"Update Profile"})}),(0,m.jsx)("div",{children:(0,m.jsx)(n.rU,{href:"#",onClick:()=>{h(!1)},className:"btn btn-secondary",children:"Cancel"})})]})]})}})})]})}}}]);
//# sourceMappingURL=5411.92cec4d0.chunk.js.map