"use strict";(self.webpackChunkvishwatel=self.webpackChunkvishwatel||[]).push([[3911],{33911:(s,e,a)=>{a.r(e),a.d(e,{default:()=>h});var r=a(72791),o=a(57689),n=a(11087),c=a(81724),l=a(36277),t=a(70509),d=a(73520),i=a(72826),m=a(41008),p=(a(75149),a(80184));const h=function(){const[s,e]=(0,r.useState)(!1),[a,h]=(0,r.useState)(!1),[w,u]=(0,r.useState)(!1),[g,x]=(0,r.useState)(!1),[f,j]=(0,r.useState)(!1),{loginInfo:N,updateLoginInfo:b}=(0,t.t)(),v=()=>{e(!s)};return s?document.querySelector("body").classList.add("toggle-shown"):document.querySelector("body").classList.remove("toggle-shown"),(0,o.s0)(),(0,p.jsx)(p.Fragment,{children:(0,p.jsx)("div",{className:"nk-block",children:(0,p.jsx)("div",{className:"card",children:(0,p.jsxs)("div",{className:"card-aside-wrap",children:[(0,p.jsxs)("div",{className:"card-inner card-inner-lg",children:[(0,p.jsx)("div",{className:"nk-block-head nk-block-head-lg",children:(0,p.jsxs)("div",{className:"nk-block-between",children:[(0,p.jsx)(d.PageHeader,{heading:"Change Password",children:(0,p.jsx)("p",{children:"Set a unique password to protect your account."})}),(0,p.jsx)("div",{className:"nk-block-head-content align-self-start d-lg-none",children:(0,p.jsx)(n.rU,{to:"#",onClick:()=>v(),className:"toggle btn btn-icon btn-trigger mt-n1 ".concat(s?"active":""),children:(0,p.jsx)("em",{className:"icon ni ni-menu-alt-r"})})})]})}),(0,p.jsx)("div",{className:"nk-block wide-xs",children:(0,p.jsx)(l.J9,{enableReinitialize:!0,initialValues:{current_password:"",password:""},validationSchema:c.Ry().shape({current_password:c.Z_().required("Please enter new password."),password:c.Z_().required("Please old password."),confirm_password:c.Z_().required("Please re-enter password.").when("current_password",{is:s=>!!(s&&s.length>0),then:c.Z_().oneOf([c.iH("current_password")],"Both password need to be the same")})}),onSubmit:s=>{(async s=>{j(!0);const e={currentpassword:s.password,newpassword:s.current_password};try{const{data:s}=await(0,i.Cp)(e,N.token);j(!1),200===(null===s||void 0===s?void 0:s.statusCode)?(0,m.iM)({type:"success",message:s.message}):(0,m.iM)({type:"error",message:s.message})}catch(a){j(!1),(0,m.iM)({type:"error",message:a})}})(s),s.password="",s.current_password="",s.confirm_password=""},children:s=>{let{errors:e,handleBlur:r,handleChange:o,handleSubmit:c,touched:l,values:t}=s;return(0,p.jsxs)("form",{onSubmit:c,children:[(0,p.jsxs)("div",{className:"form-group",children:[(0,p.jsx)("div",{className:"form-label-group",children:(0,p.jsx)("label",{className:"form-label",htmlFor:"password",children:"Old Password"})}),(0,p.jsx)("div",{className:"form-control-wrap",children:(0,p.jsx)(d.Password,{className:"form-control form-control-lg",name:"password",placeholder:"Enter current password",onChange:o,value:t.password,type:a?"text":"password",toggleIcon:(0,p.jsx)(n.rU,{to:"#",onClick:s=>{s.preventDefault(),h(!a)},className:"form-icon lg form-icon-right passcode-switch","data-target":"password",children:(0,p.jsx)("em",{className:"passcode-icon icon-show icon ni ni-eye".concat(a?"":"-off"," ")})}),icon:""})}),l.password&&e.password?(0,p.jsx)("span",{style:{color:"red"},children:e.password}):null]}),(0,p.jsxs)("div",{className:"form-group",children:[(0,p.jsx)("div",{className:"form-label-group",children:(0,p.jsx)("label",{className:"form-label",htmlFor:"password",children:"New Password"})}),(0,p.jsx)("div",{className:"form-control-wrap",children:(0,p.jsx)(d.Password,{className:"form-control form-control-lg",name:"current_password",placeholder:"Enter new password",onChange:o,value:t.current_password,type:w?"text":"password",toggleIcon:(0,p.jsx)(n.rU,{to:"#",onClick:s=>{s.preventDefault(),u(!w)},className:"form-icon lg form-icon-right passcode-switch","data-target":"password",children:(0,p.jsx)("em",{className:"passcode-icon icon-show icon ni ni-eye".concat(w?"":"-off"," ")})}),icon:""})}),l.current_password&&e.current_password?(0,p.jsx)("span",{style:{color:"red"},children:e.current_password}):null]}),(0,p.jsxs)("div",{className:"form-group passwordInfo",children:[(0,p.jsx)("h6",{children:"Password contains:"}),(0,p.jsxs)("p",{className:"text-success mb-1",children:[(0,p.jsx)("em",{className:"icon ni ni-check"})," At least 1 Capital Letter."]}),(0,p.jsxs)("p",{className:"text-success mb-1",children:[(0,p.jsx)("em",{className:"icon ni ni-check"})," At least 1 Special Character & 1 Number."]}),(0,p.jsxs)("p",{className:"text-danger mb-1",children:[(0,p.jsx)("em",{className:"icon ni ni-check"})," 6-15 characters long."]})]}),(0,p.jsxs)("div",{className:"form-group",children:[(0,p.jsx)("div",{className:"form-label-group",children:(0,p.jsx)("label",{className:"form-label",htmlFor:"password",children:"Confirm New Password"})}),(0,p.jsx)("div",{className:"form-control-wrap",children:(0,p.jsx)(d.Password,{className:"form-control form-control-lg",name:"confirm_password",placeholder:"Confirm new password",onChange:o,value:t.confirm_password,type:g?"text":"password",toggleIcon:(0,p.jsx)(n.rU,{to:"#",onClick:s=>{s.preventDefault(),x(!g)},className:"form-icon lg form-icon-right passcode-switch","data-target":"password",children:(0,p.jsx)("em",{className:"passcode-icon icon-show icon ni ni-eye".concat(g?"":"-off"," ")})}),icon:""})}),l.confirm_password&&e.confirm_password?(0,p.jsx)("span",{style:{color:"red"},children:e.confirm_password}):null]}),(0,p.jsx)("div",{className:"form-group",children:(0,p.jsx)(d.CommonButton,{extraClassName:"btn btn-lg btn-primary btn-block",htmlType:"button",type:"submit",children:"Update Password"})})]})}})})]}),(0,p.jsx)(d.AcountSidebar,{asideView:s,asideToggle:v})]})})})})}}}]);
//# sourceMappingURL=3911.b3566b3a.chunk.js.map